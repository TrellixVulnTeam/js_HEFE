<div id = "map" style = "width:1000px; height:480px"></div>
<link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
<script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="countries_weapons.js"></script>
<style>
.legend { text-align: left; line-height: 18px; color: #555; } .legend i { width: 18px; height: 18px; float: left; margin-right: 8px; opacity: 0.5; }
</style>
<script>		
	// Creating map options
	var mapOptions = {
		// Lat/long
		center: [41, 12],
		// zoom level of map
        zoom: 2,
	attributionControl: false
	}
	// Creating a map object
	// This is a leaflet api call. Arg 1 is the div id above.  
    var map = new L.map('map', mapOptions);
    var layer = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png', {
		subdomains: 'abcd',
		maxZoom: 19
	});
	// Adding layer to the map
	map.addLayer(layer);
   
    // Creating a marker
	// L.marker([17.385044, 78.486671]).addTo(map);

	var air_brazil = L.marker([-14.2350, -51.9253]).bindPopup('ERJ-145(3).');
	var air_canada = L.marker([]).bindPopup('PT6(85), PW100(112).');
	var air_france = L.marker([]).bindPopup('Mirage-2000-5(49), Rafale(?)');
    var air_germany = L.marker([]).bindPopup('Do-228MP(52)');
	var air_russia = L.marker([]).bindPopup('Su-30MK(140), Mig-29SMT/Fulcrum-F(92)');

	var air_cities = L.layerGroup([air_brazil]);

	var missile_france = L.marker([46.2276, 2.2137]).bindPopup('Military aircraft.');
	var missile_cities = L.layerGroup([missile_france]);

	var baseMap = {
			"<span style='color: gray'>Defense FDI(in m$)</span>": map
	}

	var overlayMap = {
		"air": air_cities,
		"missile": missile_cities
	}

	function getColor(d) {
    	return d > 10000 ? '#045a8d' :
           d > 5000  ? '#2b8cbe' :
           d > 999  ? '#74a9cf' :
           d > 500  ? '#a6bddb' :
           d > 100   ? '#d0d1e6' :
           				'#f1eef6';
	}
	function style(feature) {
		return {
			fillColor: getColor(feature.properties.net),
			weight: 2,
			opacity: 0,
			// color: 'white',
			// dashArray: '3',
			fillOpacity: 0.3
		};
	}


		var legend = L.control({position: 'bottomright'});

		legend.onAdd = function (map) {

			var div = L.DomUtil.create('div', 'info legend'),
				grades = [0, 10, 100, 500, 999, 5000, 10000],
				labels = [];

			// loop through our density intervals and generate a label with a colored square for each interval
			for (var i = 0; i < grades.length; i++) {
				div.innerHTML +=
					'<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
					grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + 'm $' + '<br>' : '+');
			}

			return div;
		};

		legend.addTo(map);

	L.geoJson(countriesData, {style: style}).addTo(map)
	L.control.layers(baseMap, overlayMap, {collapsed: false}).addTo(map);
	// <script src="https://cdn.jsdelivr.net/gh/rmguy/js/countries_weapons.js"></script>
</script>




